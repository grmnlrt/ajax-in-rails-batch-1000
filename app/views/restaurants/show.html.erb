<div class="container">
  <div class="row">
    <div class="col-12">
      <h1><%= @restaurant.name %> <small><%= @restaurant.address %></small></h1>


      <div data-controller="insert-in-list" data-insert-in-list-position-value="afterbegin">
        <%= render "restaurants/reviews_counter", restaurant: @restaurant %>
        <%= render "reviews/form", restaurant: @restaurant, review: @review %>

        <div data-insert-in-list-target="list">
          <% if @restaurant.reviews.blank? %>
            Be the first to leave a review for <%= @restaurant.name %>
          <% else %>
            <% @restaurant.reviews.order(created_at: :asc).each do |review| %>
              <%= render "restaurants/review", review: review %>
            <% end %>
          <% end %>
        </div>
      </div>
      

      <%= link_to "Back to all restaurants", restaurants_path %>

    </div>
  </div>
</div>
